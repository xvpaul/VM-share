/* Tunables */
:root {
  --grain-opacity: 0.16;    /* 0.08â€”0.28 */
  --grain-scale: 200px;     /* smaller = finer grain */
  --dot-alpha: 0.07;        /* brightness of dots */
  --dot-glow: 0.25;         /* halo intensity */
}

.grain-bg {
  position: relative;               /* anchor pseudo-elements */
  background:
    radial-gradient(80vw 80vw at 70% -20%, #0f172a00 60%, #0f172a 60%) /* soft top vignette */,
    radial-gradient(70vw 70vw at 20% 120%, #0b132000 55%, #0b1320 55%), /* bottom vignette */
    #0a0a0a;                        /* base */
  overflow-x: hidden;
}

/* Film grain layer */
.grain-bg::before {
  content: "";
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 0;
  mix-blend-mode: overlay;
  opacity: var(--grain-opacity);
  background-size: var(--grain-scale) var(--grain-scale);
  background-image:
    url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'>\
  <filter id='n'>\
    <feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/>\
    <feColorMatrix type='saturate' values='0'/>\
  </filter>\
  <rect width='100%' height='100%' filter='url(%23n)'/>\
</svg>");
  animation: grainShift 8s steps(10) infinite;
}

/* Dim scattered dots + glow */
.grain-bg::after {
  content: "";
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(2px 2px at 7% 12%,  rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 18% 28%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 32% 9%,  rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 44% 22%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 59% 7%,  rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 73% 18%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 88% 10%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),

    radial-gradient(2px 2px at 9% 45%,  rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 23% 58%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 37% 40%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 52% 52%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 67% 35%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 81% 49%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),

    radial-gradient(2px 2px at 6% 78%,  rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 19% 87%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 34% 71%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 49% 84%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 64% 73%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 79% 88%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px),
    radial-gradient(2px 2px at 92% 76%, rgba(255,255,255,var(--dot-alpha)) 0 1px, #0000 1px);
  filter: drop-shadow(0 0 4px rgba(255,255,255,var(--dot-glow)));
}

@keyframes grainShift {
  from { background-position: 0 0; }
  to   { background-position: -200px 200px; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .grain-bg::before { animation: none; }
}
